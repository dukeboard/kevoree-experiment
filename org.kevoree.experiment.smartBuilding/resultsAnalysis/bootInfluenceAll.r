ATboottime <-c(5,5,5,5,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,11,11,11,11,12,12,13,13,14,14,14,14,5,5,5,5,6,6,7,7,8,8,9,9,10,10,10,10,11,11)
ATeeprom <-c(102,126,136,165,189,207,231,249,283,312,336,346,357,375,410,439,463,481,515,544,569,579,608,650,693,735,778,802,812,841,876,905,84,113,147,176,219,243,261,303,346,370,380,409,452,486,515,549,578,620)
ATsdram <-c(1298,1210,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1196,1222,1218,1222,1218,1222,1218,1222,1196,1222,1196,1220,1208,1220,1208,1220,1206,1210,1206,1210,1206,1210,1190,1210,1206,1210,1206,1210,1206)
MEGA2boottime <-c(5,5,6,6,7,7,7,7,7,8,8,9,9,10,10,10,11,11,11,12,13,13,13,13,14,14,15,15,15,16,16,16,17,17,18,18,19,19,19,19,20,20,20,20,21,21,22,22,22,23,23,24,24,25,25,25,26,26,27,27,28,28,29,29,29,30,30,30,30,30,30,31,31,32,32,33,33,33,34,34,34,35,35,36,36,36,36,37,37,37,38,38,38,38,39,40,40,40,41,41,41,43,43,44,44,44,45,45,46,46,47,47,47,48,48,49,49,49,50,50,50,50,51,51,52,53,53,53,53,54,54,55,55,55,55,56,56,5,5,6,6,6,7,7,8,8,9,9,10,10,10,11,12,12,13,13,13,13,14,14,15,15,15,16,16,16,17,17,18,18,19,19,19,20,20,20,21,21,21,22,22,22,23,23,24,24,24,24,25,25,25,26,26,26,27,27,27,28,28,28)
MEGA2eeprom <-c(113,147,176,219,243,253,264,274,303,338,367,409,444,473,498,516,551,580,622,665,699,710,728,770,813,837,855,880,898,940,965,983,1018,1047,1089,1124,1153,1178,1196,1220,1230,1259,1283,1301,1335,1364,1407,1431,1441,1470,1512,1555,1597,1632,1643,1661,1704,1738,1767,1809,1852,1894,1937,1961,1971,1982,1992,2021,2045,2055,2066,2084,2126,2161,2190,2224,2253,2287,2316,2351,2380,2422,2447,2465,2490,2508,2532,2550,2575,2593,2617,2635,2660,2678,2721,2763,2798,2827,2851,2861,2890,2932,2967,2996,3030,3059,3101,3136,3165,3199,3228,3270,3295,3313,3355,3390,3419,3453,3464,3474,3503,3538,3567,3609,3652,3694,3729,3740,3758,3783,3801,3844,3868,3886,3911,3929,3971,84,113,155,180,198,240,265,283,325,360,389,432,466,495,537,580,614,643,667,677,706,731,749,791,816,834,869,880,898,940,983,1017,1046,1089,1113,1131,1166,1177,1195,1229,1258,1283,1301,1335,1364,1398,1427,1451,1461,1472,1490,1525,1554,1588,1617,1641,1659,1701,1726,1736,1765,1789,1799)
MEGA2sdram <-c(6987,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6911,6909,6909,6909,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6899,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889,6889)

plot(MEGA2eeprom,MEGA2boottime,ylim=range(c(0,380)),xlim=range(c(0,16000)),xlab="EEPROM size (byte)", ylab="Boot time (ms)", main="Persistent memory size boot time influence",xaxs="i",yaxs="i",col="red")
abline(lm(MEGA2boottime~MEGA2eeprom),col="red")
#legend("topleft", "lm(MEGAboottime~MEGAeeprom)")

lines(ATeeprom,ATboottime, pch=8,type="b",col="blue")
abline(lm(ATboottime~ATeeprom),col="blue")
legend("topleft", inset=.05, title="AVR product",
c("328+EE","2560+EE","328+SD"), fill=c("blue","red","green"), horiz=TRUE)

axis(1, at=c(max(ATeeprom)),labels=c(max(ATeeprom)), col.axis="blue", las=0,padj=-1.2)
axis(2, at=c(max(ATboottime)),labels=c(max(ATboottime)), col.axis="blue", las=0,padj=1.2)

axis(1, at=c(max(MEGA2eeprom)),labels=c(max(MEGA2eeprom)), col.axis="red", las=0,padj=-1.2)
axis(2, at=c(max(MEGA2boottime)),labels=c(max(MEGA2boottime)), col.axis="red", las=0,padj=1.2)




#SD EXPERIMENT

boottimeSD <-c(7,7,8,9,11,13,16,18,19,22,23,27,27,28,29,30,31,32,33,34,34,36,39,40,41,43,44,45,47,47,51,53,54,55,56,57,57,60,63,63,64,65,65,66,67,67,70,72,74,76,78,79,81,83,87,89,90,92,92,92,93,93,95,99,101,102,103,104,104,104,105,108,111,113,114,117,118,119,122,123,124,125,126,127,129,129,130,131,135,135,136,138,138,139,140,141,142,147,147,148,149,150,151,152,154,154,155,156,159,160,162,162,163,164,165,166,170,171,172,173,175,176,177,178,178,183,185,187,188,190,191,194,194,196,196,197,197,199,200,202,203,206,207,208,209,211,214,216,219,221,222,223,224,225,225,229,229,230,231,231,233,235,236,237,238,241,242,242,243,243,245,246,248,249,252,252,254,255,256,257,258,260,262,266,267,268,268,269,270,271,273,276,277,277,278,279,281,282,283,284,287,288,289,291,291,292,294,295,297,300,302,303,304,305,306,307,309,312,312,314,315,316,316,319,322,324,326,327,328,330,332,335,337,337,338,342,343,344,347,349,350,351,352,353,355,356,360,361,361,363,364,365,366,367,370,7,8,8,10,12,13,15,17,17,17,18,20,21,23,27,28,29,30,30,32,32,33,34,35,39,41,42,42,44,45,46,48,51,52,53,54,56,56,56,57,60,62,63,64,65)
eepromSD <-c(178,224,252,298,371,484,557,670,743,856,929,1042,1070,1116,1144,1189,1256,1302,1330,1376,1404,1450,1523,1590,1635,1748,1776,1821,1888,1933,2046,2119,2186,2232,2305,2372,2417,2530,2558,2604,2632,2678,2706,2752,2780,2825,2938,3011,3078,3123,3236,3309,3422,3495,3608,3681,3748,3794,3822,3868,3896,3942,4015,4128,4201,4268,4314,4342,4388,4416,4461,4574,4647,4760,4833,4946,4974,5019,5132,5160,5205,5272,5317,5384,5430,5458,5504,5577,5644,5689,5756,5802,5830,5876,5949,6016,6061,6174,6202,6248,6321,6388,6434,6462,6507,6574,6620,6648,6694,6767,6834,6879,6946,6992,7065,7132,7178,7206,7251,7318,7364,7437,7550,7578,7623,7736,7809,7922,7995,8108,8136,8181,8248,8293,8360,8406,8434,8480,8553,8666,8694,8739,8852,8880,8926,8999,9112,9185,9298,9371,9438,9483,9550,9595,9662,9708,9736,9781,9848,9893,9960,10006,10079,10146,10191,10258,10304,10332,10377,10444,10489,10602,10675,10742,10788,10816,10862,10890,10935,11002,11047,11160,11233,11346,11374,11419,11486,11532,11605,11672,11717,11784,11830,11858,11903,11970,12016,12089,12202,12230,12275,12342,12387,12500,12528,12573,12686,12714,12759,12826,12872,12945,13012,13057,13124,13169,13282,13310,13356,13429,13542,13570,13615,13728,13801,13914,13987,14054,14099,14212,14285,14398,14426,14472,14545,14658,14731,14798,14843,14956,14984,15029,15096,15141,15254,15327,15440,15468,15513,15626,15654,15700,15773,15840,15885,152,180,225,338,411,478,524,552,598,626,672,745,858,931,1044,1072,1117,1184,1229,1296,1342,1370,1416,1489,1556,1602,1630,1675,1788,1816,1861,1974,2047,2114,2159,2226,2272,2300,2346,2419,2532,2560,2605,2672,2718)
sdramSD <-c(185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,165,199,199,199,183,183,183,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163,163)

abline(lm(boottimeSD~eepromSD),col="green")
lines(eepromSD,boottimeSD, pch=10,type="b",col="green")
axis(1, at=c(max(eepromSD)),labels=c(max(eepromSD)), col.axis="green", las=0,padj=-1.2)
axis(2, at=c(max(boottimeSD)),labels=c(max(boottimeSD)), col.axis="green", las=0,padj=1.2)

legend("bottomright", c("boot328ee=3.63+0.012*mem","bootMEGAee=3.72+0.013*mem","boot328sd=2.78+0.023*mem"), pch=1, title="Lm(boottime ~ eeprom) extracted formula")

